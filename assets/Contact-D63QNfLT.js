import{r as m,j as a,m as x}from"./index-Bfd-k7gX.js";const h={_origin:"https://api.emailjs.com"},T=(e,t="https://api.emailjs.com")=>{h._userID=e,h._origin=t},y=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class w{constructor(t){this.status=t.status,this.text=t.responseText}}const v=(e,t,n={})=>new Promise((l,o)=>{const r=new XMLHttpRequest;r.addEventListener("load",({target:s})=>{const c=new w(s);c.status===200||c.text==="OK"?l(c):o(c)}),r.addEventListener("error",({target:s})=>{o(new w(s))}),r.open("POST",h._origin+e,!0),Object.keys(n).forEach(s=>{r.setRequestHeader(s,n[s])}),r.send(t)}),C=(e,t,n,l)=>{const o=l||h._userID;return y(o,e,t),v("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"})},D=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},q=(e,t,n,l)=>{const o=l||h._userID,r=D(n);y(o,e,t);const s=new FormData(r);return s.append("lib_version","3.2.0"),s.append("service_id",e),s.append("template_id",t),s.append("user_id",o),v("/api/v1.0/email/send-form",s)},I={init:T,send:C,sendForm:q},F=()=>{const[e,t]=m.useState({name:"",email:"",message:""}),[n,l]=m.useState(!1),[o,r]=m.useState(!1),[s,c]=m.useState(0),[d,b]=m.useState(!1),[p,j]=m.useState(!1),g=m.useRef(null);m.useEffect(()=>{if(s>0){const u=setTimeout(()=>c(i=>i-1),1e3);return()=>clearTimeout(u)}else b(!1)},[s]);const f=u=>{const{name:i,value:N}=u.target;t(E=>({...E,[i]:N}))},S=u=>{if(u.preventDefault(),s>0){c(i=>i+10);return}b(!0),c(10),I.send("service_4rlyuf2","template_1g7n8uu",{to_name:"Diogo Castelos",from_name:e.name,from_email:e.email,message:e.message},"rbxkZgn2O1S32lEzn").then(()=>{l(!0),r(!1),t({name:"",email:"",message:""})},i=>{l(!1),r(!0),console.error("Error sending email:",i)})},_=()=>{j(u=>{const i=!u;return i&&g.current&&setTimeout(()=>{g.current.scrollIntoView({behavior:"smooth",block:"start"})},300),i})};return a.jsxs(x.div,{ref:g,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},className:"relative flex flex-col w-full max-w-lg mx-auto bg-white/10 backdrop-blur-lg rounded-2xl shadow-lg overflow-hidden",children:[a.jsxs(x.div,{onClick:_,className:"cursor-pointer bg-gray-800 px-6 py-4 flex justify-between items-center text-white text-xl font-semibold tracking-wide hover:bg-gray-700 transition rounded-2xl",style:{border:"none",boxShadow:"none"},children:["Contact Me",a.jsx(x.span,{animate:{rotate:p?180:0},transition:{duration:.3,ease:"easeOut"},className:"text-lg",children:"▼"})]}),a.jsxs(x.div,{animate:{maxHeight:p?"500px":"0px",opacity:p?1:0,marginBottom:p?"24px":"0px",padding:p?"24px":"0px"},transition:{duration:.5,ease:"easeInOut"},className:"overflow-hidden",children:[a.jsx("p",{className:"text-white text-opacity-80 text-lg text-center",children:"Feel free to reach out. I’ll get back to you as soon as possible!"}),n&&a.jsx("p",{className:"text-green-400 text-center mt-2",children:"✔ Message sent successfully!"}),o&&a.jsx("p",{className:"text-red-400 text-center mt-2",children:"✖ Something went wrong. Please try again."}),d&&a.jsxs("p",{className:"text-yellow-400 text-center mt-2",children:["⏳ Please wait ",s," seconds before resending."]}),a.jsxs("form",{onSubmit:S,className:"flex flex-col space-y-5 mt-5",children:[a.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:f,className:"bg-transparent border-b border-white/30 text-white text-lg focus:outline-none focus:border-primary transition p-2",required:!0,disabled:d}),a.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:e.email,onChange:f,className:"bg-transparent border-b border-white/30 text-white text-lg focus:outline-none focus:border-primary transition p-2",required:!0,disabled:d}),a.jsx("textarea",{name:"message",rows:"4",placeholder:"Your Message",value:e.message,onChange:f,className:"bg-transparent border-b border-white/30 text-white text-lg focus:outline-none focus:border-primary transition p-2",required:!0,disabled:d}),a.jsx(x.button,{whileTap:{scale:.95},type:"submit",className:`w-full py-3 rounded-xl text-lg font-semibold transition ${d?"bg-gray-500 cursor-not-allowed":"bg-secondary hover:bg-opacity-80"} hover:bg-primary text-white`,disabled:d,children:d?"Please Wait...":"Send Message"})]})]})]})};export{F as default};
