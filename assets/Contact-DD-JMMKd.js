import{r as b,j as i,m as g}from"./index-CtDHje2f.js";class x{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const B=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},s={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:B()},k=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},C=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=k(e);s.publicKey=r.publicKey,s.blockHeadless=r.blockHeadless,s.storageProvider=r.storageProvider,s.blockList=r.blockList,s.limitRate=r.limitRate,s.origin=r.origin||t},v=async(e,t,r={})=>{const o=await fetch(s.origin+e,{method:"POST",headers:r,body:t}),a=await o.text(),n=new x(o.status,a);if(o.ok)return n;throw n},j=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},V=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},S=e=>e.webdriver||!e.languages||e.languages.length===0,P=()=>new x(451,"Unavailable For Headless Browser"),O=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},W=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},q=(e,t)=>e instanceof FormData?e.get(t):e[t],T=(e,t)=>{if(W(e))return!1;O(e.list,e.watchVariable);const r=q(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},F=()=>new x(403,"Forbidden"),K=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},M=async(e,t,r)=>{const o=Number(await r.get(e)||0);return t-Date.now()+o},L=async(e,t,r)=>{if(!t.throttle||!r)return!1;K(t.throttle,t.id);const o=t.id||e;return await M(o,t.throttle,r)>0?!0:(await r.set(o,Date.now().toString()),!1)},R=()=>new x(429,"Too Many Requests"),D=async(e,t,r,o)=>{const a=k(o),n=a.publicKey||s.publicKey,u=a.blockHeadless||s.blockHeadless,p=a.storageProvider||s.storageProvider,l={...s.blockList,...a.blockList},f={...s.limitRate,...a.limitRate};return u&&S(navigator)?Promise.reject(P()):(j(n,e,t),V(r),r&&T(l,r)?Promise.reject(F()):await L(location.pathname,f,p)?Promise.reject(R()):v("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},I=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},z=e=>typeof e=="string"?document.querySelector(e):e,Y=async(e,t,r,o)=>{const a=k(o),n=a.publicKey||s.publicKey,u=a.blockHeadless||s.blockHeadless,p=s.storageProvider||a.storageProvider,l={...s.blockList,...a.blockList},f={...s.limitRate,...a.limitRate};if(u&&S(navigator))return Promise.reject(P());const d=z(r);j(n,e,t),I(d);const m=new FormData(d);return T(l,m)?Promise.reject(F()):await L(location.pathname,f,p)?Promise.reject(R()):(m.append("lib_version","4.4.1"),m.append("service_id",e),m.append("template_id",t),m.append("user_id",n),v("/api/v1.0/email/send-form",m))},A={init:C,send:D,sendForm:Y,EmailJSResponseStatus:x},U=()=>{const[e,t]=b.useState({name:"",email:"",message:""}),[r,o]=b.useState(!1),[a,n]=b.useState(!1),[u,p]=b.useState(0),[l,f]=b.useState(!1),[d,m]=b.useState(!1),w=b.useRef(null);b.useEffect(()=>{if(u>0){const h=setTimeout(()=>p(c=>c-1),1e3);return()=>clearTimeout(h)}else f(!1)},[u]);const y=h=>{const{name:c,value:E}=h.target;t(H=>({...H,[c]:E}))},N=h=>{if(h.preventDefault(),u>0){p(c=>c+10);return}f(!0),p(10),A.send("service_4rlyuf2","template_1g7n8uu",{to_name:"Diogo Castelos",from_name:e.name,from_email:e.email,message:e.message},"rbxkZgn2O1S32lEzn").then(()=>{o(!0),n(!1),t({name:"",email:"",message:""})},c=>{o(!1),n(!0),console.error("Error sending email:",c)})},_=()=>{m(h=>{const c=!h;return c&&w.current&&setTimeout(()=>{w.current.scrollIntoView({behavior:"smooth",block:"start"})},300),c})};return i.jsxs(g.div,{ref:w,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},className:`relative flex flex-col w-full max-w-lg mx-auto
        bg-white/5 backdrop-blur-[25px] rounded-3xl shadow-[0_8px_32px_0_rgba(31,38,135,0.2)]
        border border-white/25 overflow-hidden
        before:absolute before:inset-0 before:bg-gradient-to-br before:from-white/30 before:to-transparent
        before:opacity-40 before:pointer-events-none before:rounded-3xl`,style:{WebkitBackdropFilter:"blur(25px)",backdropFilter:"blur(25px)"},children:[i.jsxs(g.div,{onClick:_,className:`relative z-10 cursor-pointer
          bg-white/10 backdrop-blur-lg border border-white/30
          px-6 py-4 flex justify-between items-center text-white text-xl font-semibold tracking-wide
          hover:bg-white/20 transition rounded-3xl select-none`,style:{WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)"},children:["Contact Me",i.jsx(g.span,{animate:{rotate:d?180:0},transition:{duration:.3,ease:"easeOut"},className:"text-lg",children:"▼"})]}),i.jsxs(g.div,{animate:{maxHeight:d?"500px":"0px",opacity:d?1:0,marginBottom:d?"24px":"0px",padding:d?"24px":"0px"},transition:{duration:.5,ease:"easeInOut"},className:"relative z-10 overflow-hidden",children:[i.jsx("p",{className:"text-white text-opacity-80 text-lg text-center",children:"Feel free to reach out. I’ll get back to you as soon as possible!"}),r&&i.jsx("p",{className:"text-green-400 text-center mt-2",children:"✔ Message sent successfully!"}),a&&i.jsx("p",{className:"text-red-400 text-center mt-2",children:"✖ Something went wrong. Please try again."}),l&&i.jsxs("p",{className:"text-yellow-400 text-center mt-2",children:["⏳ Please wait ",u," seconds before resending."]}),i.jsxs("form",{onSubmit:N,className:"flex flex-col space-y-5 mt-5",children:[i.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:y,className:`bg-white/10 backdrop-blur-md border-b border-white/30
              text-white placeholder-white/70 text-lg
              focus:outline-none focus:border-green-400 transition p-2 rounded-md`,required:!0,disabled:l,style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}}),i.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:e.email,onChange:y,className:`bg-white/10 backdrop-blur-md border-b border-white/30
              text-white placeholder-white/70 text-lg
              focus:outline-none focus:border-green-400 transition p-2 rounded-md`,required:!0,disabled:l,style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}}),i.jsx("textarea",{name:"message",rows:"4",placeholder:"Your Message",value:e.message,onChange:y,className:`bg-white/10 backdrop-blur-md border-b border-white/30
              text-white placeholder-white/70 text-lg
              focus:outline-none focus:border-green-400 transition p-2 rounded-md resize-none`,required:!0,disabled:l,style:{WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}}),i.jsx(g.button,{whileTap:{scale:.95},type:"submit",className:`w-full py-3 rounded-xl text-lg font-semibold transition
              ${l?"bg-gray-500 cursor-not-allowed":"bg-green-500 bg-opacity-80 hover:bg-opacity-100"} text-white shadow-lg`,disabled:l,children:l?"Please Wait...":"Send Message"})]})]})]})};export{U as default};
