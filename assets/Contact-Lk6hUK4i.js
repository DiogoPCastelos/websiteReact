import{r as b,j as i,m as p}from"./index-BtdxJXd6.js";class x{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const F=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:F()},v=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},V=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=v(e);r.publicKey=s.publicKey,r.blockHeadless=s.blockHeadless,r.storageProvider=s.storageProvider,r.blockList=s.blockList,r.limitRate=s.limitRate,r.origin=s.origin||t},j=async(e,t,s={})=>{const o=await fetch(r.origin+e,{method:"POST",headers:s,body:t}),a=await o.text(),n=new x(o.status,a);if(o.ok)return n;throw n},k=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},O=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},S=e=>e.webdriver||!e.languages||e.languages.length===0,P=()=>new x(451,"Unavailable For Headless Browser"),q=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},K=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},M=(e,t)=>e instanceof FormData?e.get(t):e[t],T=(e,t)=>{if(K(e))return!1;q(e.list,e.watchVariable);const s=M(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},L=()=>new x(403,"Forbidden"),B=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},D=async(e,t,s)=>{const o=Number(await s.get(e)||0);return t-Date.now()+o},R=async(e,t,s)=>{if(!t.throttle||!s)return!1;B(t.throttle,t.id);const o=t.id||e;return await D(o,t.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},N=()=>new x(429,"Too Many Requests"),I=async(e,t,s,o)=>{const a=v(o),n=a.publicKey||r.publicKey,d=a.blockHeadless||r.blockHeadless,g=a.storageProvider||r.storageProvider,l={...r.blockList,...a.blockList},f={...r.limitRate,...a.limitRate};return d&&S(navigator)?Promise.reject(P()):(k(n,e,t),O(s),s&&T(l,s)?Promise.reject(L()):await R(location.pathname,f,g)?Promise.reject(N()):j("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},W=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Y=e=>typeof e=="string"?document.querySelector(e):e,A=async(e,t,s,o)=>{const a=v(o),n=a.publicKey||r.publicKey,d=a.blockHeadless||r.blockHeadless,g=r.storageProvider||a.storageProvider,l={...r.blockList,...a.blockList},f={...r.limitRate,...a.limitRate};if(d&&S(navigator))return Promise.reject(P());const m=Y(s);k(n,e,t),W(m);const u=new FormData(m);return T(l,u)?Promise.reject(L()):await R(location.pathname,f,g)?Promise.reject(N()):(u.append("lib_version","4.4.1"),u.append("service_id",e),u.append("template_id",t),u.append("user_id",n),j("/api/v1.0/email/send-form",u))},J={init:V,send:I,sendForm:A,EmailJSResponseStatus:x},U=()=>{const[e,t]=b.useState({name:"",email:"",message:""}),[s,o]=b.useState(!1),[a,n]=b.useState(!1),[d,g]=b.useState(0),[l,f]=b.useState(!1),[m,u]=b.useState(!1),w=b.useRef(null);b.useEffect(()=>{if(d>0){const h=setTimeout(()=>g(c=>c-1),1e3);return()=>clearTimeout(h)}else f(!1)},[d]);const y=h=>{const{name:c,value:_}=h.target;t(C=>({...C,[c]:_}))},E=h=>{if(h.preventDefault(),d>0){g(c=>c+10);return}f(!0),g(10),J.send("service_4rlyuf2","template_1g7n8uu",{to_name:"Diogo Castelos",from_name:e.name,from_email:e.email,message:e.message},"rbxkZgn2O1S32lEzn").then(()=>{o(!0),n(!1),t({name:"",email:"",message:""})},c=>{o(!1),n(!0),console.error("Error sending email:",c)})},H=()=>{u(h=>{const c=!h;return c&&w.current&&setTimeout(()=>{w.current.scrollIntoView({behavior:"smooth",block:"start"})},300),c})};return i.jsxs(p.div,{ref:w,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1.2,ease:"easeOut"},className:"relative flex flex-col w-full max-w-lg mx-auto bg-white/10 backdrop-blur-lg rounded-2xl shadow-lg overflow-hidden",children:[i.jsxs(p.div,{onClick:H,className:"cursor-pointer bg-gray-800 px-6 py-4 flex justify-between items-center text-white text-xl font-semibold tracking-wide hover:bg-gray-700 transition rounded-2xl",style:{border:"none",boxShadow:"none"},children:["Contact Me",i.jsx(p.span,{animate:{rotate:m?180:0},transition:{duration:.3,ease:"easeOut"},className:"text-lg",children:"▼"})]}),i.jsxs(p.div,{animate:{maxHeight:m?"500px":"0px",opacity:m?1:0,marginBottom:m?"24px":"0px",padding:m?"24px":"0px"},transition:{duration:.5,ease:"easeInOut"},className:"overflow-hidden",children:[i.jsx("p",{className:"text-white text-opacity-80 text-lg text-center",children:"Feel free to reach out. I’ll get back to you as soon as possible!"}),s&&i.jsx("p",{className:"text-green-400 text-center mt-2",children:"✔ Message sent successfully!"}),a&&i.jsx("p",{className:"text-red-400 text-center mt-2",children:"✖ Something went wrong. Please try again."}),l&&i.jsxs("p",{className:"text-yellow-400 text-center mt-2",children:["⏳ Please wait ",d," seconds before resending."]}),i.jsxs("form",{onSubmit:E,className:"flex flex-col space-y-5 mt-5",children:[i.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:y,className:"bg-transparent border-b border-white/30 text-white text-lg focus:outline-none focus:border-primary transition p-2",required:!0,disabled:l}),i.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:e.email,onChange:y,className:"bg-transparent border-b border-white/30 text-white text-lg focus:outline-none focus:border-primary transition p-2",required:!0,disabled:l}),i.jsx("textarea",{name:"message",rows:"4",placeholder:"Your Message",value:e.message,onChange:y,className:"bg-transparent border-b border-white/30 text-white text-lg focus:outline-none focus:border-primary transition p-2",required:!0,disabled:l}),i.jsx(p.button,{whileTap:{scale:.95},type:"submit",className:`w-full py-3 rounded-xl text-lg font-semibold transition ${l?"bg-gray-500 cursor-not-allowed":"bg-secondary hover:bg-opacity-80"} hover:bg-primary text-white`,disabled:l,children:l?"Please Wait...":"Send Message"})]})]})]})};export{U as default};
